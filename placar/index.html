<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <title>Placar Interativo</title>

  <!-- Web App Meta Tags para comportamento "tela cheia" em mobile -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Placar">
  <meta name="theme-color" content="#111111">

  <!-- O Favicon original é mantido, conforme a diretriz de integridade. -->
  <link rel="icon" href="favicon.png" type="image/svg+xml">
  <link rel="apple-touch-icon" href="favicon.png" type="image/svg+xml">

  <!-- A referência ao JS local do Vue é mantida. -->
  <script src="vue3518.js"></script>
  <style>
    /* As fontes locais referenciadas no código original são mantidas. */
    /* cyrillic-ext */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_SeW4Ep0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }
    /* cyrillic */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_QOW4Ep0.woff2) format('woff2');
      unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }
    /* greek */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_R-W4Ep0.woff2) format('woff2');
      unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
    }
    /* vietnamese */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_S-W4Ep0.woff2) format('woff2');
      unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
    }
    /* latin-ext */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_SuW4Ep0.woff2) format('woff2');
      unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }
    /* latin */
    @font-face {
      font-family: 'Roboto Mono';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url(L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2_ROW4.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }


    /* Reseta estilos básicos e define a fonte */
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden; /* Evita barras de rolagem */
      font-family: "Roboto Mono", monospace;
      background-color: #111;
    }

    /* Regra geral para transições suaves e rápidas */
    * {
      transition: all 0.4s ease-in-out;
    }

    #fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.85); /* Fundo escuro semi-transparente */
      z-index: 9999; /* Garante que está acima de tudo */
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      opacity: 1; /* Para transição */
    }

    #fullscreen-overlay.hidden {
      opacity: 0;
      pointer-events: none; /* Impede cliques quando escondido */
    }

    #fullscreen-button {
      background-color: #2980b9;
      border: 2px solid #3498db;
      color: white;
      padding: 20px 40px;
      font-family: "Roboto Mono", monospace;
      font-size: 24px;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
    }
    #fullscreen-button:hover {
      background-color: #3498db;
    }
    #fullscreen-button:active {
      transform: scale(0.95);
    }

    #rotation-wrapper {
      width: 100%;
      height: 100%;
    }

    /* Regra de rotação via Media Query para navegadores que a interpretam corretamente (ex: Firefox Mobile) */
    @media (orientation: portrait) and (hover: none) and (pointer: coarse) {
      #rotation-wrapper {
        width: 100vh;
        height: 100vw;
        overflow: hidden;
        position: fixed;
        top: 0;
        left: 0;
        transform-origin: top left;
        transform: translateY(100vh) rotate(-90deg);
      }
      .score {
        font-size: 120vw !important;
      }
      .score.score-reduced {
        font-size: 90vw !important;
      }
      .timer-display {
        font-size: 4vw !important;
      }
      .timer-container.timer-paused .timer-display {
        font-size: 8vw !important;
      }
    }

    /* Classe adicionada via JS para forçar a rotação no Chrome Mobile, que tem bugs com a media query */
    #rotation-wrapper.force-landscape-chrome {
      width: 100vh;
      height: 100vw;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      transform-origin: top left;
      transform: translateY(100vh) rotate(-90deg);
    }

    .force-landscape-chrome .score {
      font-size: 120vw !important;
    }
    .force-landscape-chrome .score.score-reduced {
      font-size: 90vw !important;
    }
    .force-landscape-chrome .timer-display {
      font-size: 4vw !important;
    }
    .force-landscape-chrome .timer-container.timer-paused .timer-display {
      font-size: 8vw !important;
    }


    #app {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .scoreboard {
      display: flex;
      width: 100%;
      height: 100%;
    }

    .team {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      position: relative;
      user-select: none;
      cursor: pointer;
    }

    .team-a { background-color: #F00; }

    .team-b { background-color: #00F; }

    .team-name {
      font-size: 2rem;
      font-weight: bold;
      text-transform: uppercase;
      position: absolute;
      top: 0;
      cursor: pointer; /* Indica que o nome é clicável */
      z-index: 10; /* Garante que o nome esteja acima da área de clique do placar */
    }

    .score {
      font-size: 120vh;
      font-weight: bold;
      line-height: 1;
    }

    .score.score-reduced {
      font-size: 90vh;
    }

    .timer-container {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      background-color: rgba(0, 0, 0, 0.4);
      padding: 5px 25px;
      border-radius: 20px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      cursor: pointer; /* Adicionado para indicar que é clicável */
    }

    .timer-container.timer-paused {
      background-color: #e67e22; /* Laranja */
      border-color: #f39c12;
    }

    .timer-display {
      font-size: 4vh;
      color: white;
      font-weight: bold;
    }

    .timer-container.timer-paused .timer-display {
      font-size: 8vh; /* Dobro da fonte quando pausado */
    }

    .controls {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }

    .reset-button {
      background-color: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: white;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .reset-button:hover {
      background-color: rgba(255, 255, 255, 0.4);
    }

    .reset-button svg {
      width: 28px;
      height: 28px;
    }

    .help-container {
      position: absolute;
      bottom: 20px;
      right: 20px;
      z-index: 10;
    }

    .help-button {
      background-color: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: white;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: bold;
      font-family: 'Roboto Mono', monospace;
    }

    .help-button:hover {
      background-color: rgba(255, 255, 255, 0.4);
    }

    .help-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .help-content {
      background-color: #2c3e50;
      color: white;
      padding: 30px;
      border-radius: 10px;
      font-size: max(1.1rem, 3vh);
      line-height: 1.8;
      max-width: 90%;
      border: 2px solid #34495e;
    }

    .help-content ul {
      list-style: '✔ ';
      padding-left: 1.5em;
      margin: 0;
    }

    .help-content li {
      margin-bottom: 15px;
    }

    .help-content li:last-child {
      margin-bottom: 0;
    }

    .help-content a {
      color: #3498db;
      text-decoration: none;
      font-weight: bold;
    }

    .help-content a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<div id="fullscreen-overlay" class="hidden">
  <!-- O texto deste botão será atualizado pelo Vue após detectar o idioma -->
  <button id="fullscreen-button" onclick="handleFullscreenRequest()">Enter Fullscreen</button>
</div>

<!-- SCRIPT ISOLADO E GLOBAL PARA TELA CHEIA -->
<script>
  function handleFullscreenRequest() {
    const docEl = document.documentElement
    if (docEl.requestFullscreen) {
      docEl.requestFullscreen()
    } else if (docEl.webkitRequestFullscreen) {
      docEl.webkitRequestFullscreen()
    }
  }

  function updateFullscreenUI() {
    const overlay = document.getElementById('fullscreen-overlay')
    if (!overlay) return

    if (document.fullscreenElement || document.webkitFullscreenElement) {
      overlay.classList.add('hidden')
    } else {
      overlay.classList.remove('hidden')
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('fullscreen-overlay')
    const docEl = document.documentElement
    if (!docEl.requestFullscreen && !docEl.webkitRequestFullscreen) {
      if (overlay) overlay.remove()
    } else {
      document.addEventListener('fullscreenchange', updateFullscreenUI)
      document.addEventListener('webkitfullscreenchange', updateFullscreenUI)
      updateFullscreenUI()
    }
  })
</script>


<div id="rotation-wrapper">
  <div id="app">
    <!-- O timer e os placares principais -->
    <div class="timer-container" :class="{ 'timer-paused': !timerIsRunning && timerTotalSeconds > 0 }" @click.stop="swapTeamNames">
      <span class="timer-display">{{ formattedTime }}</span>
    </div>

    <div class="scoreboard">
      <div
        class="team team-a"
        @mousedown.prevent="pressStart('A')"
        @mouseup="pressEnd('A')"
        @touchstart.prevent="pressStart('A')"
        @touchend="pressEnd('A')"
        @contextmenu.prevent
      >
        <div class="team-name" @click.stop="swapTeamNames">{{ currentTeamAName }}</div>
        <div class="score" :class="{ 'score-reduced': scoreA > 9 || scoreB > 9 }">{{ scoreA }}</div>
      </div>
      <div
        class="team team-b"
        @mousedown.prevent="pressStart('B')"
        @mouseup="pressEnd('B')"
        @touchstart.prevent="pressStart('B')"
        @touchend="pressEnd('B')"
        @contextmenu.prevent
      >
        <div class="team-name" @click.stop="swapTeamNames">{{ currentTeamBName }}</div>
        <div class="score" :class="{ 'score-reduced': scoreA > 9 || scoreB > 9 }">{{ scoreB }}</div>
      </div>
    </div>

    <!-- Botão de reset no centro -->
    <div class="controls">
      <button
        @click.stop="resetGame"
        class="reset-button"
        :title="texts.reset_title"
        v-show="timerIsRunning"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
      </button>
    </div>

    <!-- Botão de Ajuda -->
    <div class="help-container">
      <button @click.stop="toggleHelp" class="help-button" :title="texts.help_title">?</button>
    </div>

    <!-- Modal de Ajuda com textos dinâmicos -->
    <div class="help-modal" v-if="isHelpVisible" @click="toggleHelp">
      <div class="help-content" @click.stop>
        <ul>
          <li>{{ texts.help_increase }}</li>
          <li>{{ texts.help_decrease }}</li>
          <li>{{ texts.help_swap }}</li>
          <li v-html="texts.help_creator"></li>
        </ul>
      </div>
    </div>

  </div>
</div>

<script>
  const { createApp } = Vue

  createApp({
    data() {
      return {
        scoreA: 0,
        scoreB: 0,
        isTeamOrderSwapped: false,
        texts: {},
        timerTotalSeconds: 0,
        timerIsRunning: false,
        timerId: null,
        wakeLock: null,
        longPressTimer: null,
        isLongPress: false,
        longPressDuration: 500,
        orientationMediaQuery: null,
        isHelpVisible: false,
      }
    },
    computed: {
      currentTeamAName() {
        if (!this.texts.team_a_name) return ''
        return this.isTeamOrderSwapped ? this.texts.team_b_name : this.texts.team_a_name
      },
      currentTeamBName() {
        if (!this.texts.team_b_name) return ''
        return this.isTeamOrderSwapped ? this.texts.team_a_name : this.texts.team_b_name
      },
      formattedTime() {
        const minutes = Math.floor(this.timerTotalSeconds / 60)
        const seconds = this.timerTotalSeconds % 60
        return `${String(minutes).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`
      },
    },
    methods: {
      initializeI18n() {
        const defaultTexts = {
          // Os nomes agora refletem o contexto de 'porta' e 'fundo'.
          team_a_name: 'DOOR',
          team_b_name: 'BACK',
          reset_title: 'Reset Scores & Pause Timer',
          help_title: 'Help',
          help_increase: 'Click to increase score',
          help_decrease: 'Click and hold to decrease',
          help_swap: 'Tap the timer to swap teams',
          help_creator: 'Created by <a href="https://helio.me" target="_blank">Hélio</a>',
          fullscreen_button_text: 'Enter Fullscreen'
        }

        const translations = {
          // 1. Chinês Mandarim: Usando 'Perto' e 'Longe' para contexto posicional.
          zh: {
            team_a_name: '近', team_b_name: '远', reset_title: '重置比分并暂停计时器', help_title: '帮助',
            help_increase: '点击增加分数', help_decrease: '长按减少分数', help_swap: '点击计时器交换队伍',
            help_creator: '由 <a href="https://helio.me" target="_blank">Hélio</a> 创建', fullscreen_button_text: '进入全屏'
          },
          // 2. Espanhol: Tradução literal de 'Porta' e 'Fundo'.
          es: {
            team_a_name: 'PUERTA', team_b_name: 'FONDO', reset_title: 'Reiniciar Puntos y Pausar Cronómetro', help_title: 'Ayuda',
            help_increase: 'Clic para aumentar', help_decrease: 'Mantén presionado para disminuir', help_swap: 'Toca el cronómetro para cambiar equipos',
            help_creator: 'Creado por <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'Pantalla Completa'
          },
          // 3. Hindi: Usando 'Perto' e 'Longe'.
          hi: {
            team_a_name: 'पास', team_b_name: 'दूर', reset_title: 'स्कोर रीसेट करें और टाइमर रोकें', help_title: 'मदद',
            help_increase: 'स्कोर बढ़ाने के लिए क्लिक करें', help_decrease: 'घटाने के लिए दबाकर रखें', help_swap: 'टीमें बदलने के लिए टाइमर पर टैप करें',
            help_creator: '<a href="https://helio.me" target="_blank">Hélio</a> द्वारा बनाया गया', fullscreen_button_text: 'फ़ुलस्क्रीन करें'
          },
          // 4. Árabe: Usando 'Perto' e 'Longe'.
          ar: {
            team_a_name: 'قريب', team_b_name: 'بعيد', reset_title: 'إعادة تعيين النقاط وإيقاف المؤقت', help_title: 'مساعدة',
            help_increase: 'انقر لزيادة النتيجة', help_decrease: 'اضغط مع الاستمرار للتقليل', help_swap: 'اضغط على المؤقت لتبديل الفرق',
            help_creator: 'صنعه <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'دخول وضع ملء الشاشة'
          },
          // 5. Bengali: Usando 'Perto' e 'Longe'.
          bn: {
            team_a_name: 'কাছে', team_b_name: 'দূরে', reset_title: 'স্কোর রিসেট করুন এবং টাইমার থামান', help_title: 'সাহায্য',
            help_increase: 'স্কোর বাড়াতে ক্লিক করুন', help_decrease: 'কমাতে চেপে ধরুন', help_swap: 'দল বদল করতে টাইমার ট্যাপ করুন',
            help_creator: '<a href="https://helio.me" target="_blank">Hélio</a> দ্বারা নির্মিত', fullscreen_button_text: 'পূর্ণ স্ক্রীন'
          },
          // 6. Português: Usando os termos originais e corretos 'Porta' e 'Fundo'.
          pt: {
            team_a_name: 'PORTA', team_b_name: 'FUNDO', reset_title: 'Zerar Placar e Pausar Cronômetro', help_title: 'Ajuda',
            help_increase: 'Clique para aumentar', help_decrease: 'Clique e segure para diminuir', help_swap: 'Toque no cronômetro para inverter os times',
            help_creator: 'Criado por <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'Entrar em Tela Cheia'
          },
          // 7. Russo: Usando 'Time Próximo' e 'Time Distante'.
          ru: {
            team_a_name: 'БЛИЖНИЙ', team_b_name: 'ДАЛЬНИЙ', reset_title: 'Сбросить счет и остановить таймер', help_title: 'Помощь',
            help_increase: 'Нажмите, чтобы увеличить счет', help_decrease: 'Нажмите и удерживайте, чтобы уменьшить', help_swap: 'Нажмите на таймер, чтобы поменять команды',
            help_creator: 'Создано <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'Во весь экран'
          },
          // 8. Urdu: Usando 'Perto' e 'Longe'.
          ur: {
            team_a_name: 'قریب', team_b_name: 'دور', reset_title: 'سکور دوبارہ ترتیب دیں اور ٹائمر روکیں', help_title: 'مدد',
            help_increase: 'سکور بڑھانے کے لیے کلک کریں', help_decrease: 'کم کرنے کے لیے دبا کر رکھیں', help_swap: 'ٹیمیں تبدیل کرنے کے لیے ٹائمر پر ٹیپ کریں',
            help_creator: '<a href="https://helio.me" target="_blank">Hélio</a> نے بنایا', fullscreen_button_text: 'پوری اسکرین'
          },
          // 9. Indonésio: Tradução literal de 'Porta' e 'Trás'.
          id: {
            team_a_name: 'PINTU', team_b_name: 'BELAKANG', reset_title: 'Atur Ulang Skor & Jeda Timer', help_title: 'Bantuan',
            help_increase: 'Klik untuk menambah skor', help_decrease: 'Klik dan tahan untuk mengurangi', help_swap: 'Ketuk timer untuk menukar tim',
            help_creator: 'Dibuat oleh <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'Masuk Layar Penuh'
          },
          // 10. Francês: Tradução literal de 'Porta' e 'Fundo'.
          fr: {
            team_a_name: 'PORTE', team_b_name: 'FOND', reset_title: 'Réinitialiser les scores et pauser le chrono', help_title: 'Aide',
            help_increase: 'Cliquer pour augmenter', help_decrease: 'Maintenir pour diminuer', help_swap: 'Appuyez sur le chrono pour changer d\'équipe',
            help_creator: 'Créé par <a href="https://helio.me" target="_blank">Hélio</a>', fullscreen_button_text: 'Plein écran'
          }
        }

        const lang = (navigator.language || navigator.userLanguage).split('-')[0]
        this.texts = translations[lang] || defaultTexts

        const fullscreenBtn = document.getElementById('fullscreen-button')
        if (fullscreenBtn) {
          fullscreenBtn.textContent = this.texts.fullscreen_button_text
        }
      },
      toggleHelp() {
        this.isHelpVisible = !this.isHelpVisible
      },
      applyChromeRotationFix() {
        const isChromeMobile = /Chrome/.test(navigator.userAgent) && /Mobi/.test(navigator.userAgent)
        const isPortrait = this.orientationMediaQuery.matches
        const wrapper = document.getElementById('rotation-wrapper')

        if (wrapper) {
          if (isChromeMobile && isPortrait) {
            wrapper.classList.add('force-landscape-chrome')
          } else {
            wrapper.classList.remove('force-landscape-chrome')
          }
        }
      },
      swapTeamNames() {
        this.isTeamOrderSwapped = !this.isTeamOrderSwapped
      },
      resetGame() {
        this.scoreA = 0
        this.scoreB = 0
        this.pauseTimer()
      },
      startTimer() {
        if (this.timerIsRunning) return
        this.timerIsRunning = true
        this.requestWakeLock()
        this.timerId = setInterval(() => { this.timerTotalSeconds++ }, 1000)
      },
      pauseTimer() {
        this.timerIsRunning = false
        clearInterval(this.timerId)
        this.releaseWakeLock()
      },
      async requestWakeLock() {
        if ("wakeLock" in navigator) {
          try {
            this.wakeLock = await navigator.wakeLock.request("screen")
            this.wakeLock.addEventListener("release", () => {})
          } catch (err) {
            console.error(`Wake Lock error: ${err.name}, ${err.message}`)
          }
        }
      },
      async releaseWakeLock() {
        if (this.wakeLock !== null) {
          try {
            await this.wakeLock.release()
            this.wakeLock = null
          } catch (err) {
            console.error(`Wake Lock release error: ${err.name}, ${err.message}`)
          }
        }
      },
      incrementScore(team) {
        const wasGameAtZero = this.scoreA === 0 && this.scoreB === 0

        if (team === "A") this.scoreA++
        else this.scoreB++

        if (wasGameAtZero) {
          this.timerTotalSeconds = 30
          this.startTimer()
        }
      },
      decrementScore(team) {
        if (team === "A" && this.scoreA > 0) this.scoreA--
        else if (team === "B" && this.scoreB > 0) this.scoreB--
      },
      pressStart(team) {
        this.isLongPress = false
        this.longPressTimer = setTimeout(() => {
          this.decrementScore(team)
          this.isLongPress = true
        }, this.longPressDuration)
      },
      pressEnd(team) {
        clearTimeout(this.longPressTimer)
        if (!this.isLongPress) this.incrementScore(team)
      },
      handleVisibilityChange() {
        if (this.wakeLock !== null && document.visibilityState === "visible") {
          this.requestWakeLock()
        }
      },
    },
    mounted() {
      this.initializeI18n()
      document.addEventListener("visibilitychange", this.handleVisibilityChange)
      this.orientationMediaQuery = window.matchMedia("(orientation: portrait)")
      this.orientationMediaQuery.addEventListener('change', this.applyChromeRotationFix)
      this.applyChromeRotationFix()
    },
    beforeUnmount() {
      this.pauseTimer()
      document.removeEventListener("visibilitychange", this.handleVisibilityChange)
      if (this.orientationMediaQuery) {
        this.orientationMediaQuery.removeEventListener('change', this.applyChromeRotationFix)
      }
    },
  }).mount("#app")
</script>
</body>
</html>